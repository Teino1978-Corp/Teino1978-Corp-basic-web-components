<!DOCTYPE html>
<html>
<head>

  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <title>basic-web-components vulcanize test</title>

  <link rel="import" href="bower_components/polymer/polymer.html">
  <script src="bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
  <link rel="import" href="basic-web-components.html">

  <style>
    body,
    button,
    input {
      font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
      font-size: 15px;
    }

    basic-framed-content#carousel-frame,
    basic-arrow-direction,
    basic-page-dots {
      display: -webkit-flex;
      display: flex;
      -webkit-flex: 1;
      flex: 1;
    }

    basic-framed-content {
      min-height: 400px;
    }

    basic-carousel {
      -webkit-flex: 1;
      flex: 1;
    }
  </style>

  <script>
    var changeDetectorAspect = {
      contribute: {
        contentChanged: function() {
          console.log("contentChanged: now " + this.collective.content.length + " children");
        }
      }
    };

    function handleCultureChanged(bcsElement, culture) {
      var locale = culture.cldr.locale;
      var numberFormatter = Globalize(locale).numberFormatter();
      var dateFormatter = Globalize(locale).dateFormatter();
      var currencyFormatter = Globalize(locale).currencyFormatter('USD');

      document.querySelector('template').model = {
        cultureName: bcsElement.name,
        dateExample: dateFormatter(new Date()),
        numberExample: numberFormatter(1234567.89),
        currencyExample: currencyFormatter(1234.56)
      };
    }

    document.addEventListener('WebComponentsReady', function() {
      new Basic.Collective(changeDetectorAspect, document.querySelector('basic-list-box'));
      document.body.removeAttribute('unresolved');

      document.querySelector("#basic-culture-selector-template").model = {};
      var bcsElement = document.querySelector('basic-culture-selector');
      bcsElement.addEventListener("basic-culture-changed", function(event) {
        handleCultureChanged(bcsElement, event.detail.culture);
      });

      // If the newly constructed element has the culture property set, use it.
      // Otherwise, we'll pick it up in the basic-culture-changed event.
      if (bcsElement.culture) {
        handleCultureChanged(bcsElement, bcsElement.culture);
      }
    });
  </script>
</head>

<body unresolved>
  <h2>basic-autosize-textarea</h2>
  <basic-framed-content>
    <basic-autosize-textarea minimum-rows="2">
      Type all you want here!
    </basic-autosize-textarea>
  </basic-framed-content>

  <h2>basic-carousel</h2>
  <basic-framed-content id="carousel-frame">
    <basic-arrow-direction target="child" class="overlay" aria-label="Nature scenes" role="listbox">
      <basic-page-dots target="child">
        <basic-carousel>
          <img src="http://hosting.component.kitchen/resources/images/image1.jpg" alt="Lake">
          <img src="http://hosting.component.kitchen/resources/images/image2.jpg" alt="Horses">
          <img src="http://hosting.component.kitchen/resources/images/image6.jpg" alt="Wheat">
          <img src="http://hosting.component.kitchen/resources/images/image3.jpg" alt="Mountain">
          <img src="http://hosting.component.kitchen/resources/images/image7.jpg" alt="Palm tree">
        </basic-carousel>
      </basic-page-dots>
    </basic-arrow-direction>
  </basic-framed-content>

  <h2>basic-carousel-fit</h2>
  <basic-framed-content>
    <basic-arrow-direction target="child" aria-label="Flags">
      <basic-carousel-fit>
        <img src="http://hosting.component.kitchen/resources/flags/Brazil.png" alt="Brazil flag">
        <img src="http://hosting.component.kitchen/resources/flags/Cameroon.png" alt="Cameroon flag">
        <img src="http://hosting.component.kitchen/resources/flags/Gabon.png" alt="Gabon flag">
        <img src="http://hosting.component.kitchen/resources/flags/Nepal.png" alt="Nepal flag">
        <img src="http://hosting.component.kitchen/resources/flags/South_Korea.png" alt="South Korea flag">
        <img src="http://hosting.component.kitchen/resources/flags/Switzerland.png" alt="Switzerland flag">
        <img src="http://hosting.component.kitchen/resources/flags/United_States.png" alt="United States flag">
      </basic-carousel-fit>
    </basic-arrow-direction>
  </basic-framed-content>

  <h2>basic-list-box</h2>
  <basic-framed-content>
    <basic-list-box aria-label="Fruits">
      <div>Acai</div>
      <div>Acerola</div>
      <div>Apple</div>
      <div>Apricot</div>
      <div>Banana</div>
      <div>Blackberry</div>
      <div>Blueberry</div>
      <div>Cantaloupe</div>
      <div>Cherry</div>
      <div>Cranberry</div>
      <div>Currant</div>
      <div>Date</div>
      <div>Durian</div>
      <div>Fig</div>
      <div>Goji berry</div>
      <div>Gooseberry</div>
      <div>Grape</div>
      <div>Grapefruit</div>
      <div>Honeydew</div>
      <div>Jackfruit</div>
      <div>Kiwi</div>
      <div>Kumquat</div>
      <div>Lemon</div>
      <div>Lime</div>
      <div>Lychee </div>
      <div>Mango</div>
      <div>Mangosteen</div>
      <div>Mulberry</div>
      <div>Nectarine</div>
      <div>Orange</div>
      <div>Papaya</div>
      <div>Passion Fruit</div>
      <div>Peach</div>
      <div>Pear</div>
      <div>Pineapple</div>
      <div>Plum</div>
      <div>Pomegranate</div>
      <div>Pomelo</div>
      <div>Prickly Pear</div>
      <div>Raspberry</div>
      <div>Strawberry</div>
      <div>Tangerine</div>
      <div>Watermelon</div>
    </basic-list-box>
  </basic-framed-content>

  <h2>basic-culture-selector</h2>
  <basic-framed-content>
    <p>
      <basic-culture-selector>Pick your preferred language/location settings:</basic-culture-selector>
    </p>
    <template id="basic-culture-selector-template" is="dom-bind">
      <div>Culture name: <span>{{model.cultureName}}</span></div>
      <div>Today's date: <span>{{model.dateExample}}</span></div>
      <div>Number example: <span>{{model.numberExample}}</span></div>
      <div>Currency example: <span>{{model.currencyExample}}</span></div>
    </template>
  </basic-framed-content>

</body>

</html>
