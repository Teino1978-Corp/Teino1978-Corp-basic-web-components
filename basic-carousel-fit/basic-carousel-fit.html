<link rel="import" href="../basic-aspect/basic-aspect.html">

<link rel="import" href="../basic-keyboard/basic-keyboard.html">
<link rel="import" href="../basic-keyboard-direction/basic-keyboard-direction.html">
<link rel="import" href="../basic-swipe-direction/basic-swipe-direction.html">
<link rel="import" href="../basic-direction-selection/basic-direction-selection.html">
<link rel="import" href="../basic-item-selection/basic-item-selection.html">
<link rel="import" href="../basic-accessible-list/basic-accessible-list.html">
<link rel="import" href="../basic-content-items/basic-content-items.html">
<link rel="import" href="../basic-children-content/basic-children-content.html">
<link rel="import" href="../basic-sliding-viewport-fit/basic-sliding-viewport-fit.html">
<link rel="import" href="../basic-spread-fit/basic-spread-fit.html">

<dom-module id="basic-carousel-fit">
  <style>
  :host {
    display: inline-block;
  }

  basic-keyboard,
  basic-swipe-direction,
  basic-sliding-viewport-fit {
    display: -webkit-flex;
    display: flex;
    -webkit-flex: 1;
    flex: 1;
  }

  basic-spread-fit {
    height: 100%;
  }
  </style>
  <template>
    <basic-keyboard-direction></basic-keyboard-direction>
    <basic-direction-selection></basic-direction-selection>
    <basic-accessible-list></basic-accessible-list>
    <basic-content-items></basic-content-items>
    <basic-item-selection></basic-item-selection>
    <basic-children-content></basic-children-content>
    <basic-keyboard target="child">
      <basic-swipe-direction target="child">
        <basic-sliding-viewport-fit id="viewport" target="child">
          <basic-spread-fit id="spread">
            <content id="content"></content>
          </basic-spread-fit>
        </basic-sliding-viewport-fit>
      </basic-swipe-direction>
    </basic-keyboard>
  </template>
</dom-module>

<script>
Polymer(mixin(BasicAspectMixin, {

  hostAttributes: {
    target: 'shadow'
  },

  is: 'basic-carousel-fit',

  ready: function() {
    this.$.spread.addEventListener('basic-layout', function(event) {
      var viewport = this.$.viewport;
      viewport.style.width = event.detail.width + 'px';
      viewport.style.height = event.detail.height + 'px';
    }.bind(this));
  }

}));
</script>
